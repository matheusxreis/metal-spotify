{"ast":null,"code":"var _jsxFileName = \"/home/reis/Documentos/programacao/react/metal-spotify/app/src/components/Header/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { HeaderContainer, OptionsDiv } from \"./styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { SignIn, GetToken } from \"../../store/auth/action\";\nimport { GoButton } from \"../GoButton\";\nimport DownIcon from '../../images/Down.svg';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Header() {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const username = useSelector(state => {\n    var _state$user;\n\n    return (_state$user = state.user) === null || _state$user === void 0 ? void 0 : _state$user.username;\n  });\n  const [openOptionDiv, setOpenOptionDiv] = useState(false);\n  useEffect(() => {\n    dispatch(GetToken());\n  }, []);\n\n  function handleSignIn() {\n    dispatch(SignIn());\n    window.location.href = 'http://localhost:8080/auth/login';\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(HeaderContainer, {\n      children: [username && localStorage.getItem(\"token_token\") ? /*#__PURE__*/_jsxDEV(GoButton, {\n        text: username,\n        onClick: setOpenOptionDiv(true),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: DownIcon,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 14\n      }, this) : /*#__PURE__*/_jsxDEV(GoButton, {\n        onClick: handleSignIn,\n        text: 'Entrar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(OptionsDiv, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Sair \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Header, \"w7BDsj1TTZv81Rm6BdXFcn7MEoc=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n\n_c = Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/home/reis/Documentos/programacao/react/metal-spotify/app/src/components/Header/index.tsx"],"names":["useEffect","useState","HeaderContainer","OptionsDiv","useDispatch","useSelector","SignIn","GetToken","GoButton","DownIcon","useNavigate","Header","dispatch","navigate","username","state","user","openOptionDiv","setOpenOptionDiv","handleSignIn","window","location","href","localStorage","getItem"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAASC,eAAT,EAA0BC,UAA1B,QAA2C,UAA3C;AAEA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAgC,yBAAhC;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA,OAAOC,QAAP,MAAqB,uBAArB;AAIA,SAASC,WAAT,QAA4B,kBAA5B;;;AAQA,OAAO,SAASC,MAAT,GAAiB;AAAA;;AAEpB,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;AAGA,QAAMS,QAAQ,GAAGH,WAAW,EAA5B;AAEA,QAAMI,QAAQ,GAAGT,WAAW,CAAaU,KAAD;AAAA;;AAAA,0BAAoBA,KAAK,CAACC,IAA1B,gDAAoB,YAAYF,QAAhC;AAAA,GAAZ,CAA5B;AAEA,QAAM,CAACG,aAAD,EAAgBC,gBAAhB,IAAoCjB,QAAQ,CAAU,KAAV,CAAlD;AAEAD,EAAAA,SAAS,CAAC,MAAI;AAIFY,IAAAA,QAAQ,CACJL,QAAQ,EADJ,CAAR;AAOX,GAXQ,EAWN,EAXM,CAAT;;AAYC,WAASY,YAAT,GAAuB;AAIxBP,IAAAA,QAAQ,CACJN,MAAM,EADF,CAAR;AAIAc,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAsB,kCAAtB;AAEC;;AAED,sBACI;AAAA,2BACA,QAAC,eAAD;AAAA,iBAEMR,QAAQ,IAAIS,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAZ,gBACD,QAAC,QAAD;AAAU,QAAA,IAAI,EAAEV,QAAhB;AACA,QAAA,OAAO,EAAEI,gBAAgB,CAAC,IAAD,CADzB;AAAA,+BAGA;AAAK,UAAA,GAAG,EAAET,QAAV;AAAoB,UAAA,GAAG,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA,cADC,gBAOD,QAAC,QAAD;AAAU,QAAA,OAAO,EAAEU,YAAnB;AAAiC,QAAA,IAAI,EAAE;AAAvC;AAAA;AAAA;AAAA;AAAA,cATL,eAYC,QAAC,UAAD;AAAA,+BACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,cAZD;AAAA;AAAA;AAAA;AAAA;AAAA;AADA,mBADJ;AAoBH;;GAvDeR,M;UAEKP,W,EAGAM,W,EAEAL,W;;;KAPLM,M","sourcesContent":["import { useEffect, useState } from \"react\"\n\nimport { HeaderContainer, OptionsDiv} from \"./styles\"\n\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { SignIn, GetToken} from \"../../store/auth/action\"\nimport { GoButton } from \"../GoButton\"\n\nimport DownIcon from '../../images/Down.svg'\nimport UpIcon from '../../images/Up.svg'\n\n\nimport { useNavigate } from \"react-router-dom\"\n\ninterface Iusername {\n    user: {\n        username: string;\n    }\n}\n\nexport function Header(){\n\n    const dispatch = useDispatch()\n\n\n    const navigate = useNavigate()\n\n    const username = useSelector<Iusername>((state:Iusername)=> state.user?.username)\n\n    const [openOptionDiv, setOpenOptionDiv] = useState<boolean>(false)\n\n    useEffect(()=>{\n        \n\n\n                dispatch(\n                    GetToken()\n                )\n \n            \n        \n        \n    }, [])\n     function handleSignIn(){\n    \n\n    \n    dispatch(\n        SignIn()\n    )\n\n    window.location.href= 'http://localhost:8080/auth/login'\n\n    }\n\n    return (\n        <>\n        <HeaderContainer>\n\n            { username && localStorage.getItem(\"token_token\") ? \n             <GoButton text={username}\n             onClick={setOpenOptionDiv(true)}\n             > \n             <img src={DownIcon} alt=\"\" />\n             </GoButton>\n             :\n             <GoButton onClick={handleSignIn} text={'Entrar'} />\n         }\n         \n         <OptionsDiv>\n            <p> Sair </p>     \n        </OptionsDiv>\n        </HeaderContainer>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}