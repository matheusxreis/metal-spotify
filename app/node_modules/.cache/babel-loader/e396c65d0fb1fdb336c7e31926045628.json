{"ast":null,"code":"var _jsxFileName = \"/home/reis/Documentos/programacao/react/metal-spotify/app/src/components/Header/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { HeaderContainer, OptionsDiv } from \"./styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { SignIn, GetToken, SignOut } from \"../../store/auth/action\";\nimport { GoButton } from \"../GoButton\";\nimport DownIcon from '../../images/Down.svg';\nimport UpIcon from '../../images/Up.svg';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Header() {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const username = useSelector(state => {\n    var _state$user;\n\n    return (_state$user = state.user) === null || _state$user === void 0 ? void 0 : _state$user.username;\n  });\n  const [openOptionDiv, setOpenOptionDiv] = useState(false);\n  useEffect(() => {\n    dispatch(GetToken());\n  }, []);\n\n  function handleSignIn() {\n    dispatch(SignIn());\n    window.location.href = 'http://localhost:8080/auth/login';\n  }\n\n  function handleSignOut() {\n    dispatch(SignOut());\n    window.open('http://localhost:8080/auth/signout', '_blank');\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(HeaderContainer, {\n      children: [username && localStorage.getItem(\"token_token\") ? /*#__PURE__*/_jsxDEV(GoButton, {\n        text: username,\n        onClick: () => setOpenOptionDiv(!openOptionDiv),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: openOptionDiv ? UpIcon : DownIcon,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 14\n      }, this) : /*#__PURE__*/_jsxDEV(GoButton, {\n        onClick: handleSignIn,\n        text: 'Entrar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 14\n      }, this), openOptionDiv && /*#__PURE__*/_jsxDEV(OptionsDiv, {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: () => handleSignOut(),\n          children: \" Sair \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Header, \"w7BDsj1TTZv81Rm6BdXFcn7MEoc=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n\n_c = Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/home/reis/Documentos/programacao/react/metal-spotify/app/src/components/Header/index.tsx"],"names":["useEffect","useState","HeaderContainer","OptionsDiv","useDispatch","useSelector","SignIn","GetToken","SignOut","GoButton","DownIcon","UpIcon","useNavigate","Header","dispatch","navigate","username","state","user","openOptionDiv","setOpenOptionDiv","handleSignIn","window","location","href","handleSignOut","open","localStorage","getItem"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAASC,eAAT,EAA0BC,UAA1B,QAA2C,UAA3C;AAEA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,OAA3B,QAAyC,yBAAzC;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AAGA,SAASC,WAAT,QAA4B,kBAA5B;;;AAQA,OAAO,SAASC,MAAT,GAAiB;AAAA;;AAEpB,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AAGA,QAAMW,QAAQ,GAAGH,WAAW,EAA5B;AAEA,QAAMI,QAAQ,GAAGX,WAAW,CAAaY,KAAD;AAAA;;AAAA,0BAAoBA,KAAK,CAACC,IAA1B,gDAAoB,YAAYF,QAAhC;AAAA,GAAZ,CAA5B;AAEA,QAAM,CAACG,aAAD,EAAgBC,gBAAhB,IAAoCnB,QAAQ,CAAU,KAAV,CAAlD;AAEAD,EAAAA,SAAS,CAAC,MAAI;AAIFc,IAAAA,QAAQ,CACJP,QAAQ,EADJ,CAAR;AAOX,GAXQ,EAWN,EAXM,CAAT;;AAYC,WAASc,YAAT,GAAuB;AAIxBP,IAAAA,QAAQ,CACJR,MAAM,EADF,CAAR;AAIAgB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAsB,kCAAtB;AAEC;;AAED,WAASC,aAAT,GAAwB;AACpBX,IAAAA,QAAQ,CACJN,OAAO,EADH,CAAR;AAGAc,IAAAA,MAAM,CAACI,IAAP,CAAY,oCAAZ,EAAkD,QAAlD;AACH;;AAED,sBACI;AAAA,2BACA,QAAC,eAAD;AAAA,iBAEMV,QAAQ,IAAIW,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAZ,gBACD,QAAC,QAAD;AAAU,QAAA,IAAI,EAAEZ,QAAhB;AACA,QAAA,OAAO,EAAE,MAAII,gBAAgB,CAAC,CAACD,aAAF,CAD7B;AAAA,+BAGA;AAAK,UAAA,GAAG,EAAGA,aAAa,GAAGR,MAAH,GAAYD,QAApC;AAA8C,UAAA,GAAG,EAAC;AAAlD;AAAA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA,cADC,gBAOD,QAAC,QAAD;AAAU,QAAA,OAAO,EAAEW,YAAnB;AAAiC,QAAA,IAAI,EAAE;AAAvC;AAAA;AAAA;AAAA;AAAA,cATL,EAYEF,aAAa,iBACP,QAAC,UAAD;AAAA,+BACA;AAAG,UAAA,OAAO,EAAE,MAAIM,aAAa,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAbR;AAAA;AAAA;AAAA;AAAA;AAAA;AADA,mBADJ;AAuBH;;GAjEeZ,M;UAEKT,W,EAGAQ,W,EAEAP,W;;;KAPLQ,M","sourcesContent":["import { useEffect, useState } from \"react\"\n\nimport { HeaderContainer, OptionsDiv} from \"./styles\"\n\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { SignIn, GetToken, SignOut} from \"../../store/auth/action\"\nimport { GoButton } from \"../GoButton\"\n\nimport DownIcon from '../../images/Down.svg'\nimport UpIcon from '../../images/Up.svg'\n\n\nimport { useNavigate } from \"react-router-dom\"\n\ninterface Iusername {\n    user: {\n        username: string;\n    }\n}\n\nexport function Header(){\n\n    const dispatch = useDispatch()\n\n\n    const navigate = useNavigate()\n\n    const username = useSelector<Iusername>((state:Iusername)=> state.user?.username)\n\n    const [openOptionDiv, setOpenOptionDiv] = useState<boolean>(false)\n\n    useEffect(()=>{\n        \n\n\n                dispatch(\n                    GetToken()\n                )\n \n            \n        \n        \n    }, [])\n     function handleSignIn(){\n    \n\n    \n    dispatch(\n        SignIn()\n    )\n\n    window.location.href= 'http://localhost:8080/auth/login'\n\n    }\n\n    function handleSignOut(){\n        dispatch(\n            SignOut()\n        )\n        window.open('http://localhost:8080/auth/signout', '_blank')\n    }\n\n    return (\n        <>\n        <HeaderContainer>\n\n            { username && localStorage.getItem(\"token_token\") ? \n             <GoButton text={username}\n             onClick={()=>setOpenOptionDiv(!openOptionDiv)}\n             > \n             <img src={ openOptionDiv ? UpIcon : DownIcon} alt=\"\" />\n             </GoButton>\n             :\n             <GoButton onClick={handleSignIn} text={'Entrar'} />\n         }\n         \n         {openOptionDiv && (\n                <OptionsDiv>\n                <p onClick={()=>handleSignOut()}> Sair </p>     \n                </OptionsDiv>\n         )}\n      \n        </HeaderContainer>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}