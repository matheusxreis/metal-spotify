{"ast":null,"code":"import { all, takeEvery, call } from 'redux-saga/effects';\nimport { spotifyApi } from '../../api';\nexport function* getUserInfo(action) {\n  const {\n    token\n  } = action.payload;\n  const config = {\n    headers: {\n      Authorization: token\n    }\n  };\n  console.log('USERRR');\n  const response = yield call(spotifyApi.get, '/me', config);\n  console.log(response.data);\n}\nexport default function* userSaga() {\n  yield all([takeEvery('@user/GET_USER_INFO', getUserInfo)]);\n}","map":{"version":3,"sources":["/home/reis/Documentos/programacao/react/metal-spotify/app/src/store/user/saga.ts"],"names":["all","takeEvery","call","spotifyApi","getUserInfo","action","token","payload","config","headers","Authorization","console","log","response","get","data","userSaga"],"mappings":"AACA,SAASA,GAAT,EAAmBC,SAAnB,EAA8BC,IAA9B,QAAyC,oBAAzC;AAEA,SAASC,UAAT,QAA2B,WAA3B;AASA,OAAO,UAAUC,WAAV,CAAsBC,MAAtB,EAAwC;AAE3C,QAAM;AAAEC,IAAAA;AAAF,MAAYD,MAAM,CAACE,OAAzB;AACA,QAAMC,MAAM,GAAG;AACRC,IAAAA,OAAO,EAAE;AAACC,MAAAA,aAAa,EAAGJ;AAAjB;AADD,GAAf;AAKKK,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACL,QAAMC,QAAmB,GAAG,MAAMX,IAAI,CAClCC,UAAU,CAACW,GADuB,EAElC,KAFkC,EAGlCN,MAHkC,CAAtC;AAMAG,EAAAA,OAAO,CAACC,GAAR,CAAYC,QAAQ,CAACE,IAArB;AACH;AAGD,eAAe,UAAUC,QAAV,GAAoB;AAC/B,QAAMhB,GAAG,CAAC,CACNC,SAAS,CAAC,qBAAD,EAAwBG,WAAxB,CADH,CAAD,CAAT;AAIH","sourcesContent":["import { AnyAction } from '@reduxjs/toolkit'\nimport { all, put, takeEvery, call} from 'redux-saga/effects'\n\nimport { spotifyApi } from '../../api'\n\n\ninterface IResponse {\n    data: {\n        access_token:string;\n    }\n}\n\nexport function* getUserInfo(action: AnyAction){\n\n    const { token } = action.payload\n    const config = {\n           headers: {Authorization : token}\n         }\n\n         \n         console.log('USERRR')\n    const response: IResponse = yield call(\n        spotifyApi.get,\n        '/me',\n        config  \n         )\n\n    console.log(response.data)\n}\n\n\nexport default function* userSaga(){\n    yield all([\n        takeEvery('@user/GET_USER_INFO', getUserInfo),\n       \n    ])\n}\n"]},"metadata":{},"sourceType":"module"}